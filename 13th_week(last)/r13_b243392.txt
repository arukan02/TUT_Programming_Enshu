プログラミング応用演習I 第13回課題レポート 
氏名: Alcander Imawan
学籍番号: b243392
提出年月日: 2024年7月26日

13.1 ベイズ推定 -感染確率問題
13.1.1. プログラム
--- prog_13_1.c
/* header files */
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

/* define */
#define MAX 100
#define DICE 6
#define UNIT 1000

#if 0
#define DICE_1 0.5 // 0.0 ~ 0.5
#define DICE_2 0.6 // ~ 0.6
#define DICE_3 0.7 // ~ 0.7
#define DICE_4 0.8 // ~ 0.8
#define DICE_5 0.9 // ~ 0.9
//      DICE_6     // 0.9 ~ 1.0
#endif

#if 1
//// normal dice
#define DICE_1 0.1666667
#define DICE_2 0.3333333
#define DICE_3 0.5
#define DICE_4 0.6666667
#define DICE_5 0.8333333
//      DICE_6     // 0.9 ~ 1.0
#endif

int dice()
{
  double d = ((double)rand())/RAND_MAX;
  if (d <= DICE_1) {
    return 0;
  } else if (d <= DICE_2) {
    return 1;
  } else if (d <= DICE_3) {
    return 2;
  } else if (d <= DICE_4) {
    return 3;
  } else if (d <= DICE_5) {
    return 4;
  }
  return 5;
}

/* functions */
void cent_limit(long cast, long rep);
void welford_update(double value, double* mean, double* m2, long count);

/* main */
int main(void) {
  long cast, rep;
  puts("The central limit theorem.");
  printf("The number of dice cast: ");
  scanf("%ld", &cast);
  printf("The repeat number: ");
  scanf("%ld", &rep);
  printf("\n");
  cent_limit(cast, rep);

  return 0;
}

/* central limit theorem */
void cent_limit(long cast, long rep) {

  long i, j, sum;
  long array[MAX] = {};
  srand((unsigned int)time(NULL) );

  double mean = 0.0;
  double m2 = 0.0;

  for (i = 0; i < rep; i++) {
    sum = 0;
    for (j = 0; j < cast; j++) {
      sum += dice() + 1;
    }
    array[sum - cast]++;
    welford_update(sum, &mean, &m2, i + 1);
  }

  long total = 0;
  for (i = cast; i <= DICE * cast; i++) {
    long num = array[i - cast];
    total += i * num;
    printf("%03ld [%7ld] :", i, num);
    for (j = 0; j < num / UNIT; j++) {
      putchar('*');
    }
    putchar('\n');
  }

  double ave = ((double)total)/rep;
  long total_2 = 0;
  for (i = cast; i <= DICE * cast; i++) {
    long num = array[i - cast];
    total_2 += i * i * num; //
  }
  double var = ((double)total_2)/rep - ave * ave;

  printf("average = %lf, variance = %lf\n", ave, var); 
  printf("Welford's method: mean = %lf, unbiased variance = %lf\n", mean, m2 / (rep - 1));
}

/* Welford's method */
void welford_update(double value, double* mean, double* m2, long count) {
  double delta = value - *mean;
  *mean += delta / count;
  double delta2 = value - *mean;
  *m2 += delta * delta2;
}

---

13.1.2. 実行結果 // コンソールをコピー
[a243392@xdev04 kadai13]$ gcc prog_13_1.c
[a243392@xdev04 kadai13]$ ./prog131
The central limit theorem.
The number of dice cast: 6
The repeat number: 999999

006 [     18] :
007 [    131] :
008 [    411] :
009 [   1177] :*
010 [   2634] :**
011 [   5442] :*****
012 [   9561] :*********
013 [  16255] :****************
014 [  24880] :************************
015 [  35796] :***********************************
016 [  48300] :************************************************
017 [  61473] :*************************************************************
018 [  73216] :*************************************************************************
019 [  83884] :***********************************************************************************
020 [  90696] :******************************************************************************************
021 [  92945] :********************************************************************************************
022 [  90452] :******************************************************************************************
023 [  83430] :***********************************************************************************
024 [  73746] :*************************************************************************
025 [  61371] :*************************************************************
026 [  48279] :************************************************
027 [  35329] :***********************************
028 [  24890] :************************
029 [  16124] :****************
030 [   9736] :*********
031 [   5396] :*****
032 [   2642] :**
033 [   1166] :*
034 [    469] :
035 [    133] :
036 [     17] :
average = 20.997983, variance = 17.455524
Welford's method: mean = 20.997983, unbiased variance = 17.455542

[a243392@xdev04 kadai13]$　./prog131
006 [      9] :
007 [     56] :
008 [    214] :
009 [    563] :
010 [   1331] :*
011 [   2667] :**
012 [   4963] :****
013 [   8031] :********
014 [  12541] :************
015 [  17934] :*****************
016 [  24093] :************************
017 [  30637] :******************************
018 [  36827] :************************************
019 [  42086] :******************************************
020 [  45010] :*********************************************
021 [  46352] :**********************************************
022 [  45397] :*********************************************
023 [  41607] :*****************************************
024 [  36938] :************************************
025 [  30256] :******************************
026 [  24180] :************************
027 [  17878] :*****************
028 [  12430] :************
029 [   8163] :********
030 [   4945] :****
031 [   2648] :**
032 [   1327] :*
033 [    590] :
034 [    231] :
035 [     79] :
036 [     17] :
average = 20.998414, variance = 17.497231
Welford's method: mean = 20.998414, unbiased variance = 17.497266

[a243392@xdev04 kadai13]$

13.1.3 解説
繰返し数で結果がどうなるか？
繰り返し数が多ければ多いほど平均と分散がもっと高い精度になり、分布ももっと高い精度になる。

変わった確率のサイコロを使った場合の影響:
1. る目の確率が異なるため、出現する目の分布が偏る。例えば、特定の目が高確率で出るサイコロでは、その目が頻繁に出ることになる。
2. 平均や分散などの統計量が通常のサイコロとは異なる。特定の目の出現頻度が高くなることで、平均がその目に近づいたり、分散が変わったりする。
3. サイコロを用いたシミュレーションやゲームの結果が通常とは異なり、特定の結果が偏って出る可能性が高まる。

13.2 動的計画法 -コインの枚数問題
13.2.1. プログラム
--- prog_13_2.c 
/* header files */
#include <stdio.h>
#include <stdlib.h>

/* define */
#define MAX 10001
#define MAX_UNITS 10

/* functions */
void coins(int coin_types[], int n, int x);

/* main */
int main(void) {
  int num_units;
  int coin_types[MAX_UNITS];
  int x;

  puts("The calculation of the number of coins.");
  printf("How many units do you use? ");
  scanf("%d", &num_units);

  coin_types[0] = 1;  // The first currency unit is always 1
  puts("The first currency unit is 1.");
  for (int i = 1; i < num_units; i++) {
    printf("Enter %dth currency unit: ", i + 1);
    scanf("%d", &coin_types[i]);
  }

  printf("Enter an amount of money x (1 <= x <= 10000): ");
  scanf("%d", &x);

  coins(coin_types, num_units, x);

  return 0;
}

/* dynamic programming */
void coins(int coin_types[], int n, int x) {
  int i, j;
  int array[MAX];
  int coin_count[MAX][MAX_UNITS] = {0};  // To keep track of each coin usage

  /* initialize array */
  array[0] = 0;
  for (i = 1; i <= x; i++) {
    array[i] = MAX;
  }

  for (i = 0; i <= x; i++) {
    if (array[i] != MAX) {
      for (j = 0; j < n; j++) {
        int next = i + coin_types[j];
        if (next <= x && array[next] > array[i] + 1) {
          array[next] = array[i] + 1;
          for (int k = 0; k < n; k++) {
            coin_count[next][k] = coin_count[i][k];
          }
          coin_count[next][j]++;
        }
      }
    }
  }

  printf("The number of coins.\n");
  for (j = 0; j < n; j++) {
    printf("%d %d\n", coin_types[j], coin_count[x][j]);
  }
}

---

13.2.2. 実行結果
[a243392@xdev04 kadai13]$ gcc prog_13_2.c
[a243392@xdev04 kadai13]$ ./prog132
The calculation of the number of coins.
How many units do you use? 10
The first currency unit is 1.
Enter 2th currency unit: 2
Enter 3th currency unit: 3
Enter 4th currency unit: 5
Enter 5th currency unit: 10
Enter 6th currency unit: 15
Enter 7th currency unit: 20
Enter 8th currency unit: 11
Enter 9th currency unit: 8
Enter 10th currency unit: 9
Enter an amount of money x (1 <= x <= 10000): 49
The number of coins.
1 0
2 0
3 0
5 0
10 0
15 0
20 2
11 0
8 0
9 1

[a243392@xdev04 kadai13]$ ./prog132
The calculation of the number of coins.
How many units do you use? 3
The first currency unit is 1.
Enter 2th currency unit: 10
Enter 3th currency unit: 15
Enter an amount of money x (1 <= x <= 10000): 36
The number of coins.
1 1
10 2
15 1

[a243392@xdev04 kadai13]$ ./prog132
The calculation of the number of coins.
How many units do you use? 5
The first currency unit is 1.
Enter 2th currency unit: 5
Enter 3th currency unit: 10
Enter 4th currency unit: 50
Enter 5th currency unit: 100
Enter an amount of money x (1 <= x <= 10000): 9876
The number of coins.
1 1
5 1
10 2
50 1
100 98

13.2.3 解決
このプログラムは最大10000の金額まで対応できるようにした。
コインの種類が多い場合、まず、大きい金額のコインからカウントし、残りをそれより小さいコインにカウントする。

13.4 ライフゲーム
13.4.1. プログラム
--- prog_13_4.c
/* header files */
#include <stdio.h>
#include <stdlib.h>

/* define */
#define HEIGHT 40
#define WIDTH 80
#define BIN 1

/* functions */
void lifegame(void);
void display_and_count(int life[BIN][HEIGHT + BIN][WIDTH + BIN], int generation);
void update(int life[BIN][HEIGHT + BIN][WIDTH + BIN]);
void load(int life[BIN][HEIGHT + BIN][WIDTH + BIN], const char *filename, int *initial_lives);

/* main */
int main(void) {
    lifegame();
    return 0;
}

/* life game */
void lifegame(void) {
    int life[BIN][HEIGHT + BIN][WIDTH + BIN] = {{{0}}};
    int initial_lives = 0;
    const char *filename = "line.txt";//ここでファイル名を変更する。

    printf("File name: %s\n", filename);
    load(life, filename, &initial_lives);
    printf("The number of initial lives: %d\n", initial_lives);

    for (int gen = 1; gen <= 131; gen++) {
        printf("Press <Enter> to show the next generation, other keys and <Enter> to exit: ");
        if (getchar() != '\n') {
            break;
        }
        printf("Generation: %d\n", gen);
        display_and_count(life, gen);
        update(life);
    }
}

/* load initial conditions from file */
void load(int life[BIN][HEIGHT + BIN][WIDTH + BIN], const char *filename, int *initial_lives) {
    FILE *file = fopen(filename, "r");
    if (!file) {
        perror("Failed to open file");
        exit(EXIT_FAILURE);
    }

    int x, y;
    while (fscanf(file, "%d %d", &x, &y) != EOF) {
        life[0][x][y] = 1;
        (*initial_lives)++;
        printf("life[1][%d][%d] = 1\n", x, y);
    }

    fclose(file);
}

/* display the grid and count life */
void display_and_count(int life[BIN][HEIGHT + BIN][WIDTH + BIN], int generation) {
    int life_count = 0;
    printf("|");
    for (int j = 0; j < WIDTH + 2; j++) {
        printf(" ");
    }
    printf("|\n");

    for (int i = 0; i < HEIGHT; i++) {
        printf("|");
        for (int j = 0; j < WIDTH; j++) {
            if (life[0][i][j]) {
                life_count++;
                printf("*");
            } else {
                printf(" ");
            }
        }
        printf("|\n");
    }

    printf("|");
    for (int j = 0; j < WIDTH + 2; j++) {
        printf(" ");
    }
    printf("|\n");

    if (life_count == 0) {
        printf("Life has gone extinct at generation %d.\n", generation);
        exit(EXIT_SUCCESS);
    }
}

/* update the grid based on the rules */
void update(int life[BIN][HEIGHT + BIN][WIDTH + BIN]) {
    int next_life[BIN][HEIGHT + BIN][WIDTH + BIN] = {{{0}}};

    for (int i = 0; i < HEIGHT; i++) {
        for (int j = 0; j < WIDTH; j++) {
            int count = 0;
            for (int di = -1; di <= 1; di++) {
                for (int dj = -1; dj <= 1; dj++) {
                    if (di != 0 || dj != 0) {
                        count += life[0][i + di][j + dj];
                    }
                }
            }

            if (life[0][i][j]) {
                if (count == 2 || count == 3) {
                    next_life[0][i][j] = 1;
                }
            } else {
                if (count == 3) {
                    next_life[0][i][j] = 1;
                }
            }
        }
    }

    for (int i = 0; i < HEIGHT; i++) {
        for (int j = 0; j < WIDTH; j++) {
            life[0][i][j] = next_life[0][i][j];
        }
    }
}

---

13.4.2. 実行結果 // コンソールをコピー
[a243392@xdev04 kadai13]$ gcc prog_13_4.c
[a243392@xdev04 kadai13]$ ./prog134
File name: diehard.txt
life[1][13][32] = 1
life[1][13][33] = 1
life[1][14][33] = 1
life[1][14][37] = 1
life[1][12][38] = 1
life[1][14][38] = 1
life[1][14][39] = 1
The number of initial lives: 7
Press <Enter> to show the next generation, other keys and <Enter> to exit:
Generation: 1
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                      *                                         |
|                                **                                              |
|                                 *   ***                                        |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |

（※途中略）
Press <Enter> to show the next generation, other keys and <Enter> to exit:
Generation: 130
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                *                                               |
|                                *                                               |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
Press <Enter> to show the next generation, other keys and <Enter> to exit:
Generation: 131
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
Life has gone extinct at generation 131.

[a243392@xdev04 kadai13]$./prog134
File name: glider.txt
life[1][6][2] = 1
life[1][6][3] = 1
life[1][7][2] = 1
life[1][7][3] = 1
life[1][6][12] = 1
life[1][7][12] = 1
life[1][8][12] = 1
life[1][5][13] = 1
life[1][9][13] = 1
life[1][4][14] = 1
life[1][10][14] = 1
life[1][4][15] = 1
life[1][10][15] = 1
life[1][7][16] = 1
life[1][5][17] = 1
life[1][9][17] = 1
life[1][6][18] = 1
life[1][7][18] = 1
life[1][8][18] = 1
life[1][7][19] = 1
life[1][4][22] = 1
life[1][5][22] = 1
life[1][6][22] = 1
life[1][4][23] = 1
life[1][5][23] = 1
life[1][6][23] = 1
life[1][3][24] = 1
life[1][7][24] = 1
life[1][2][26] = 1
life[1][3][26] = 1
life[1][7][26] = 1
life[1][8][26] = 1
life[1][4][36] = 1
life[1][5][36] = 1
life[1][4][37] = 1
life[1][5][37] = 1
The number of initial lives: 36
Press <Enter> to show the next generation, other keys and <Enter> to exit:
Generation: 1
|                                                                                |
|                                                                                |
|                                                                                |
|                          *                                                     |
|                        * *                                                     |
|              **      **            **                                          |
|             *   *    **            **                                          |
|  **        *     *   **                                                        |
|  **        *   * **    * *                                                     |
|            *     *       *                                                     |
|             *   *                                                              |
|              **                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
（※途中略）
Press <Enter> to show the next generation, other keys and <Enter> to exit:
Generation: 129
|                                                                                |
|                                                                                |
|                                                                                |
|                         **                                                     |
|                         * *                                                    |
|             *            ***       **                                          |
|          ****   **        ***      **                                          |
|  **     ****   **        ***                                                   |
|  **     *  *   ** * **  * *                                                    |
|         ****    * * **  **                                                     |
|          ****   * **                                                           |
|             *                                                                  |
|                                                                                |
|                                                                                |
|                           *                                                    |
|                            **                                                  |
|                           **                                                   |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                  * *                                           |
|                                   **                                           |
|                                   *                                            |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                          *                                     |
|                                           **                                   |
|                                          **                                    |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                 * *                            |
|                                                  **                            |
|                                                  *                             |
|                                                                                |
|                                                                                |
Press <Enter> to show the next generation, other keys and <Enter> to exit:

[a243392@xdev04 kadai13]$./prog134
File name: propagate.txt
life[1][27][42] = 1
life[1][26][44] = 1
life[1][27][44] = 1
life[1][23][46] = 1
life[1][24][46] = 1
life[1][25][46] = 1
life[1][22][48] = 1
life[1][23][48] = 1
life[1][24][48] = 1
life[1][23][49] = 1
The number of initial lives: 10
Press <Enter> to show the next generation, other keys and <Enter> to exit:
Generation: 1
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                *                               |
|                                              * **                              |
|                                              * *                               |
|                                              *                                 |
|                                            *                                   |
|                                          * *                                   |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
（※途中略）
Press <Enter> to show the next generation, other keys and <Enter> to exit:
Generation: 131
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                              *                                 |
|                                         *** ***                                |
|                                        ******  *                               |
|                                       *   *    *                               |
|                                        *   ****                                |
|                                            **                                  |
|                                                                                |
|                                                                                |
|                                               **                               |
|                                               **                               |
|                                          ***                                   |
|                                                                                |
|                                        *                                       |
|                                        *                                       |
|                                        *   **                                  |
|                                           *  *       *                         |
|                                           *  *       **                        |
|                                           ** *     *** **                      |
|                                           **  *   ***                          |
|                                           **       *  * *                      |
|                                            *****       *                       |
|                                            **   *                              |
|                                             * * *                              |
|                                                 *                              |
|                                       *         *  **                          |
|                                        **    * *   **                          |
|                                               *    **                          |
|                                                                                |
|                                           **                                   |
|                                          *  *                                  |
|                                           **                                   |
|                                                                                |
[a243392@xdev04 kadai13]$./prog134
File name: line.txt
life[1][16][40] = 1
life[1][17][40] = 1
life[1][18][40] = 1
life[1][19][40] = 1
life[1][20][40] = 1
life[1][21][40] = 1
life[1][22][40] = 1
life[1][23][40] = 1
life[1][24][40] = 1
life[1][25][40] = 1
life[1][26][40] = 1
life[1][27][40] = 1
life[1][28][40] = 1
life[1][29][40] = 1
life[1][30][40] = 1
The number of initial lives: 15
Press <Enter> to show the next generation, other keys and <Enter> to exit:
Generation: 1
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                        *                                       |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
（※途中略）
Press <Enter> to show the next generation, other keys and <Enter> to exit:
Generation: 39
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                    * *   * *                                   |
|                                    * *   * *                                   |
|                                    * *   * *                                   |
|                                                                                |
|                                                                                |
|                                                                                |
|                                    * *   * *                                   |
|                                    * *   * *                                   |
|                                    * *   * *                                   |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
Press <Enter> to show the next generation, other keys and <Enter> to exit:
Generation: 40
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                   ** ** ** **                                  |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                   ** ** ** **                                  |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
Press <Enter> to show the next generation, other keys and <Enter> to exit:
Generation: 41
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
|                                                                                |
Life has gone extinct at generation 41.

13.4.3 解説
実行例になるべく近づけるプログラムを作った。
1番目の実行結果はdiehard.txtの結果であり、２番目の結果はglider.txtの結果。
３番目４番目はpropagation.txtとline.txtの実行結果である。

定義
HEIGHTと WIDTHはグリッドの高さと幅を定義している。
BINは境界セルを含むグリッドの層を定義している。

ライフゲーム関数
lifegame 関数では、次のことを行います：
1. 初期のグリッドをゼロで初期化する。
2. 初期の生命の数を0に設定する。
3. ファイル名を指定する（この場合は "glider.txt"）。
4. 初期条件を読み込んで表示し、初期の生命の数を表示する。
5. 最大131世代までシミュレーションを実行し、各世代ごとに表示と更新を行う。

初期状態をファイルから読み込む関数
load 関数では、指定されたファイルから初期状態を読み込む。ファイルが開けない場合はエラーメッセージを表示して終了する。各座標について、生命の位置を設定し、その位置を表示する。

グリッドを表示し、生命の数をカウントする関数
display_and_count関数では、現在のグリッド状態を表示し、生命の数をカウントする。生命がいなくなった場合は、世代数を表示してプログラムを終了する。

ルールに基づいてグリッドを更新する関数
update関数では、ゲームのルールに基づいて次の世代のグリッドを計算する。各セルについて、隣接セルの数をカウントし、次の状態を決定する。最終的に、新しい状態を現在のグリッドにコピーする。